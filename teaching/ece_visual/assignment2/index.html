<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="../../favicon.ico"> -->

    <title>EE5731: Assignment 2</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../bootstrap-3.3.6-dist/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../../jumbotron.css" rel="stylesheet">
  </head>

  <body>
    <div class="container" style="font-size:16px">
      <center>
	<h3> Assignment 2: Depth Estimation From Stereo and Video</h3>
	<h4>Deadline: November 16 (Saturday), 2019 at 5pm</h4>
      </center>
      <br>

      <b>Read carefully</b>: Academic integrity must be strictly followed. Copying-and-pasting from other's
      code or from any sources is not allowed. Software will be used
      to detect any forms of source code plagiarism. You must write a
      report in a pdf format as instructed below (and indicate the parts and numbers
      clearly). Your submitted code must be grouped/separated 
      into the same parts as in the instructions. In your submission, you
      must provide us with all necessary libraries.
      The maximum score for
      completing part 1 until part 4 is 75. More scores are given
      for submission on part 5. The deadline is a strict deadline (no
      possible extension), so please prepare and plan early and carefully.
      <br>
      <br>
      <hr>
      <h4><b>Part 1: Noise Removal</b></h4>
      <br>
      <ol>
	<li> Download the code of the graphcuts matlab wrapper from
	this link: <a href="https://www.dropbox.com/s/xjw6unn34xi2f60/GCMex.zip?dl=0" target="_blank">here</a>. Read the readme file to know how to set the edges of the graph.
	<li>Write a matlab program to clean up the noise of the image
	  in Figure 1, by employing an MRF  and  the binary graphcuts. See the
	  pseudocode in C <a href="pseudocode.html" target="_blank">here</a>.
	<li> Change the value of the weighting factor (lambda) of the prior
	term, and show some different results (due to different values
	of lambda) in your report. You must
	state the values of your lambda along with the corresponding
	  results.
	<li> Show your best result in the report, and provide some
	  discussion if necessary (particularly if the results are not
	  as good as expected).

	  <br>
	  <br>
	  <img src="bayes_in.jpg" alt="input" width="504" height="328" /> 
	  <img src="bayes_out.jpg" alt="output" width="504" height="328" /> 
	  <br>
	  <center>
	    <br>
	  <b>Figure 1. Left: Input noisy image. Right: Expected
	    output.</b>
	  </center>
      </ol>
      <hr>
      <br>
      <h4><b>Part 2: Depth from Rectified Stereo Images</b></h4>
      <br>
      <ol>
	<li> Write a matlab program to estimate a depth map from the pair of
	  rectified images in Figure 2 using an MRF and multiple label graphcuts.
	<li> Show your best result in the report, and provide some
	  discussion if necessary (particularly if the results are not
	  as good as expected).
	  <br>
	  <br>
	  <img src="im2.png" alt="input" width="504" height="328" /> 
	  <img src="im6.png" alt="output" width="504" height="328" />
	  <br>
	  <br>
	  <center><b>Figure 2: A pair of rectified images</b></center>
	  <br>
	  <br>
	  <img src="depth.png" alt="groundtruth" width="504"
	       height="328" />
	  <br>
	  <br>
	  <b>Figure 3: Groundtruth of the depth map.</b>
      </ol>
      <hr>
      <br>
      <h4><b>Part 3: Depth from Stereo:</b></h4>
      <br>
      <ol>
      
	<li> Write a matlab program to estimate a depth map from a pair of
	  calibrated images in Figure 4 using an MRF and graphcuts. The camera
	  matrices are available <a href="cameras.txt"
				    target="_blank">here</a>. Note that, for finding the epipolar
	  lines using the provided camera matrices, you might want to use
	  the following equation: 
	  <img src="eq.png" alt="input" width="504" />
	  <br>

	  <br>
	  <br>
	  <img src="test00.jpg" alt="input" width="504" height="328" /> 
	  <img src="test09.jpg" alt="output" width="504" height="328" /> 
	  <br>
	  <br>
	  <center>
	    <b>Figure 4: A pair of non-rectified images</b>
	  </center>
	<li>Note that,
	     the images, camera matrices, and last equation are
	      borrowed from  the paper ("Consistent Depth Maps Recovery
	      from a Video Sequence", TPAMI'09).
	      In this paper, the mathematical
	      notations are different from what I taught in
	      class. However, if you use the notations consistently
	      following the paper, then you should be fine.
	  <li> Show your best result in your report, and provide some
	  discussion if necessary (particularly if the results are not
	  as good as expected).
      </ol>
      
      <hr>
      <br>
      <h4><b>Part 4: Depth from Video -- Basic:</b></h4>
      <br>
      <ol>
     <li> Write a program in matlab to estimate depth map from video
     using the method described in this paper: <a href="https://www.dropbox.com/s/yhuw13pnizmog3u/2009_PAMI_depth_map.pdf?dl=0"
						  target="_blank">Depth
     Map from Video Sequence</a>. 
     <li>  Unlike the original steps in the paper, in this part of the
	  assignment, you
	  only need to 
	  implement the initialization and bundle optimization steps.

      <li> For the input, use a video you can download
      from: <a href="https://www.dropbox.com/s/rctkhpw6jh1p22o/Road.zip?dl=0"
	       target="_blank">here</a> (300MB).
      <li> The camera parameters of the video are provided in the
	zipped file in the download. 
      <li> The minimum number of frames to process is 5
      frames. However, the grading will include the quality of your
	depth map, and the more frames you process, the higher the
      quality of your depth will be.
	<li> Show some of your best results in your
	  report. Provide some
	  discussion if necessary (particularly if the results are not
	  as good as expected). Also mention how many frames you use
	  to generate the best results.
	<li> An example of the expected result:
	  <br>
	  <br>
	  <img src="test0100.jpg" width="504" height="328" /> 
	  <img src="depth0100.png" width="504" height="328" /> 
	  <br>
	  
      </ol>
      <hr>
      <br>
      <h4><b>Part 5: Depth from Video -- Advanced:</b></h4>
      <br>
      You will receive more scores if you include the following
	  implementation in your submission. To be graded, you must
      provide some explanation on your implementation and results
      in your report. You can choose any of the options below:
      <ol>
	<li> Full implementation of the paper  <a href="https://www.dropbox.com/s/yhuw13pnizmog3u/2009_PAMI_depth_map.pdf?dl=0"
	       target="_blank">Depth Map from Video Sequence</a> (all
	  steps) on a full set of the provided video clip.
	<li> Find the drawbacks of the paper, and implement your
	solutions. For this, in the report, you must explain the
	drawbacks, show the evidence of the drawbacks, discuss how
	your solutions can solve
	the drawback, and show
	the improved results (in comparison to the original results).
      </ol>
      In the report, you  must mention and briefly discuss what you
      have done for part 5, and
      show the results that represent what you have done.

      

      <br>
      <hr>
      <br>
      <h4><b>Submission:</b></h4>
      <p>
	Submit your <b>codes and report</b> via IVLE</b>. Again, your
codes must be grouped/separated based on the parts above. <b>You also
need to ensure that we can compile and run your submitted codes</b>.
The report must be in a pdf format.
      </p>

      <br>	  <br>

      <br>
      
</div>      
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
  </body>
  <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
<script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-13131132-3");
  pageTracker._trackPageview();
  } catch(err) {}</script>
</html>
